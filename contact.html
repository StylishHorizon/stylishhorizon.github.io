<!-- Floating Chat Widget -->
<style>
#bill-chat-button {
    position: fixed;
    bottom: 24px;
    right: 24px;
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: #333;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    z-index: 9999;
}
#bill-chat-window {
    position: fixed;
    bottom: 110px;
    right: 24px;
    width: 360px;
    height: 520px;
    border-radius: 14px;
    background: #111;
    border: 1px solid #444;
    display: none;
    flex-direction: column;
    overflow: hidden;
    z-index: 9999;
}
#bill-chat-window header {
    padding: 14px;
    background: #1d1d1d;
    color: white;
    font-weight: bold;
    border-bottom: 1px solid #333;
}
#bill-chat-window .messages {
    flex: 1;
    padding: 12px;
    overflow-y: auto;
    color: #ddd;
    font-family: sans-serif;
    font-size: 14px;
}
#bill-chat-window .input-area {
    display: flex;
    border-top: 1px solid #333;
}
#bill-chat-window input {
    flex: 1;
    background: #222;
    border: none;
    padding: 12px;
    color: white;
}
#bill-chat-window button {
    background: #333;
    border: none;
    padding: 12px 16px;
    color: white;
    cursor: pointer;
}
.message-user { text-align: right; margin-bottom: 8px; }
.message-bill { text-align: left; margin-bottom: 8px; }
</style>

<div id="bill-chat-button">ðŸ’¬</div>

<div id="bill-chat-window">
    <header>Bill â€” Stylish Horizon</header>
    <div class="messages" id="bill-messages"></div>
    <div class="input-area">
        <input id="bill-input" type="text" placeholder="Ask Billâ€¦" />
        <button id="bill-send">âž¤</button>
    </div>
</div>

<script>
const API_URL = "https://huggingface.co/spaces/YOUR_NAME/YOUR_SPACE/api/predict";

document.getElementById("bill-chat-button").onclick = () => {
    const win = document.getElementById("bill-chat-window");
    win.style.display = win.style.display === "flex" ? "none" : "flex";
};

async function billSend() {
    const input = document.getElementById("bill-input");
    const msg = input.value.trim();
    if (!msg) return;

    const messages = document.getElementById("bill-messages");

    messages.innerHTML += `<div class="message-user">${msg}</div>`;
    input.value = "";
    messages.scrollTop = messages.scrollHeight;

    const response = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ data: [msg] })
    });

    const json = await response.json();
    const reply = json.data[0];

    messages.innerHTML += `<div class="message-bill">${reply}</div>`;
    messages.scrollTop = messages.scrollHeight;
}

document.getElementById("bill-send").onclick = billSend;
document.getElementById("bill-input").addEventListener("keydown", e => {
    if (e.key === "Enter") billSend();
});
</script>
